简介
====

一个即插即用的微型RISC-V RV32E无特权架构核心。其目标是尽量提升主频、尽量避免SSRAM/BRAM消耗的前提下尽量减少面积。

“即插即用”体现于本设计除了固件以外没有任何可调整参数，但是其自带的两个定时器与一个GPIO端口应该已经相当够用了。参考用途：
引导其他设备、看门狗、多功能外设。

此外，代码会极其详细地注释，以作教育意义，并且方便魔改（）。

应用程序二进制接口（ABI）请见本文档:ref:`abi`

目标
====

* 除了内存以外不使用任何BRAM（重要：FPGA的BRAM数量少，不得浪费）
* 大量文档
* 16位宽内存
* 不使用硬IP
* 时钟速度 > 48MHz（iCE40），> 200MHz（Artix-7）
* 控制在1200表（iCE40架构）以内（非主要目的。大FPGA寄存器很多，不必担心）

.. _abi:
微架构与应用二进制接口（ABI）
====

支持子集
--------

* 基础子集：``RV32E``
* 特权架构：没有！
* 非对齐内存读写：陷阱，请用固件实现。

寄存器文件
--------
16x32寄存器（480）

内存映射
--------

* ``0x00000000-0x7FFFFFFF`` 不可执行主内存，使用Valid-Ready-OStrobe的握手界面，可触发异常
* ``0x80000000`` GPIO0，通用输入/输出端口（8位）
* ``0x80000001`` DIR0，通用输入/输出端口方向寄存器（8位）
* ``0x80000010`` TIMER0，32位计时器，可中断
* ``0x80000014`` TCOMP0，32位计时器比较，可中断
* ``0x80000018`` TCONF0，32位计时器设置
* ``0x8000001C`` TIMER1，8位计时器，可中断
* ``0x8000001D`` TCOMP1，8位计时器比较，可中断
* ``0x8000001E`` TCONF1，8位计时器设置
* ``0x8000001F`` TINIT1，8位计时器复位值
* ``0x80000040`` TCAUSE，陷阱原因。
* ``0x80000044`` TEPC，陷阱PC。等效于``mepc``寄存器
* ``0xC0000000-0xFFFFFFFF`` 可执行内存，预装载程序

（此处208个寄存器）